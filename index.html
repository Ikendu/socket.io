<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>socket io</title>
  </head>
  <body>
    <h1>Socket IO Deep diving</h1>
    <p>Anything to keep Nanocodes moving forward</p>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    <!-- OR -->
    <!-- <script src="/socket.io/socket.io.js"></script> -->
    <button title="Click here to join room" id="btn">Update User</button>

    <button id="on">On</button>
    <button id="off">Off</button>

    <script>
      //   const name = prompt("Enter your name", "Ezego");
      //   const mood = prompt("Enter your Occupation", "Happy");
      //   const city = prompt("Enter your city", "Nsukka");

      //   const userInfo = { name, job, city };

      const socket = io();

      const on = document.getElementById("on");
      const off = document.getElementById("off");

      socket.on("connect", () => {
        console.log("Connected to: " + socket.id);

        // socket.emit("user:info", userInfo);

        const myRoom = prompt(
          "Enter you room name",
          "Game Dev, Networking, Graphics, UI/UX or Web Dev"
        );
        console.log("Connected to: " + socket.id);

        switch (myRoom) {
          case "Game Dev":
            socket.emit("joinGameRoom");
            break;
          case "Networking":
            socket.emit("joinNetworkRoom");
            break;
          case "Graphics":
            socket.emit("joinGraphicsRoom");
            break;
          case "UI/UX":
            socket.emit("joinDesignRoom");
            break;
          case "Web Dev":
            socket.emit("joinWebDevRoom");
            break;
        }

        // on.onclick = () => {
        //   socket.emit(
        //     "on:event",
        //     "on event1",
        //     "on event2",
        //     "on event3",
        //     "on event4"
        //   );
        // };
        // off.onclick = () => {
        //   socket.emit("off:event", "off event1", "off event2", "off event3");
        // };

        // socket.onAnyOutgoing((event, ...args) => {
        //   console.log("Events ", event, " Args ", args);
        // });

        // socket.on("message", (msg) => {
        //   console.log("from Server: " + msg);
        // });
        // const btn = document.getElementById("btn");
        // btn.onclick = () => {
        //   socket.emit("update:info", "Okeson", (res) => console.log(res));
        // };

        // socket
        //   .timeout(3000)
        //   .emit("check:error:timeout", "Helen online", (err, res) => {
        //     if (err) console.log("Mesg not recieved");
        //     else console.log(res);
        //   });
        // let count = 0;
        // // setInterval(() => socket.emit("ping", count++), 1000);

        // socket.on("broadcast", (mesg) => console.log(mesg));
        // socket.emit("my:mood", name, mood);
        // socket.on("res:mood", () =>
        //   document.write(`${name}'s, mood is ${mood} <br>`)
        // );
      });
    </script>
  </body>
</html>
